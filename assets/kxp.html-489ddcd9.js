import{_ as o,M as c,p as l,q as a,R as t,t as d,N as r,a1 as i}from"./framework-a7aa02af.js";const n={},s=i('<h1 id="kxp-格式" tabindex="-1"><a class="header-anchor" href="#kxp-格式" aria-hidden="true">#</a> .kxp 格式</h1><p>.kxp 格式全称 KitX Extensions Package, 是一种封装格式, 用于打包单个插件, 并记录一些额外信息, .kxp 格式顺序记录所有信息</p><p>文件结构:</p><table><thead><tr><th>Struct Name</th><th>Size</th><th>Descr</th></tr></thead><tbody><tr><td>KXP File Header</td><td>16 bytes</td><td>Prove it&#39;s a .kxp file.</td></tr><tr><td>MD5 Hash Header</td><td>16 bytes</td><td>Storage Hash code of all behind value.</td></tr><tr><td>File Map Length</td><td>8 bytes</td><td>Storage a Int64 value indicated files count.</td></tr><tr><td>File Map Item (multi)</td><td>16 bytes</td><td>Two Int64 for File Name Length and File Body Length.</td></tr><tr><td>File Item (multi)</td><td>VAR</td><td>File Name and File Body.</td></tr><tr><td>Loader Struct Length</td><td>8 bytes</td><td>A Int64 value indicated how long does Loader Struct took.</td></tr><tr><td>Loader Struct</td><td>VAR</td><td>A string in json format that storage ths Loader Struct.</td></tr><tr><td>Plugin Struct Length</td><td>8 bytes</td><td>A Int64 value indicated how long does Plugin Struct took.</td></tr><tr><td>Plugin Struct</td><td>VAR</td><td>A string in json format that storage ths Plugin Struct.</td></tr></tbody></table><ul><li><p>KXP 文件校验头<br> 16 字节<br> 用来标明这是一个 kxp 文件, 值固定为 <code>49</code> <code>74</code> <code>20</code> <code>69</code> <code>73</code> <code>20</code> <code>61</code> <code>20</code> <code>4B</code> <code>58</code> <code>50</code> <code>20</code> <code>66</code> <code>69</code> <code>6C</code> <code>65</code><br> 也就是 &quot;It is a KXP file&quot; 的 ASCII 码</p></li><li><p>MD5 哈希校验值<br> 16 字节<br> 存放后文所有字节的 MD5 哈希校验值</p></li><li><p>文件地图长度<br> 8 字节<br> 一个 64 位的整数, 表示文件地图的长度</p></li><li><p>文件地图项 (多个)<br> 16 字节<br> 两个 64 位的整数, 分别表示 文件名的长度 和 文件体的长度</p></li><li><p>文件项 (多个)<br> 可变长度<br> 文件名 与 文件体</p></li><li><p>加载器结构长度<br> 8 字节<br> 一个 64 位的整数, 表示加载器结构的长度</p></li><li><p>加载器结构<br> 可变长度<br> 一个 JSON 格式的字符串, 存放加载器结构</p></li><li><p>插件结构长度<br> 8 字节<br> 一个 64 位的整数, 表示插件结构的长度</p></li><li><p>插件结构<br> 可变长度<br> 一个 JSON 格式的字符串, 存放插件结构</p></li></ul><p>其中, 文件地图部分标明了每个文件名, 文件体的长度, 同时记录了文件结构, 方便解码器进行解码, 每个文件地图项都一一对应一个文件项</p>',6),p={href:"https://github.com/Crequency/KitX-File-Format-Helper/blob/main/KitX.KXP.Helper/Encoder.cs",target:"_blank",rel:"noopener noreferrer"},h={href:"https://github.com/Crequency/KitX-File-Format-Helper/blob/main/KitX.KXP.Helper/Decoder.cs",target:"_blank",rel:"noopener noreferrer"};function b(u,m){const e=c("ExternalLinkIcon");return l(),a("div",null,[s,t("ul",null,[t("li",null,[t("a",p,[d("编码器源码"),r(e)])]),t("li",null,[t("a",h,[d("解码器源码"),r(e)])])])])}const _=o(n,[["render",b],["__file","kxp.html.vue"]]);export{_ as default};
